<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>diffmicro: diffmicro/power_spectra.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">diffmicro
   &#160;<span id="projectnumber">3.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_08804b2bd172a596cc18ca8f1d86432a.html">diffmicro</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">power_spectra.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="stdafx_8h_source.html">stdafx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="power__spectra_8h_source.html">power_spectra.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="diffmicro__display_8h_source.html">diffmicro_display.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="radial__storage__lut_8h_source.html">radial_storage_lut.h</a>&quot;</code><br />
<code>#include &lt;Engine.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac8870d0076bae3ab200cb181cd597bd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#ac8870d0076bae3ab200cb181cd597bd3">calc_diagonal</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> starting_index, unsigned int power_spectra_avg_counter[], <a class="el" href="classfifo__min.html">fifo_min</a> &amp;fifo, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> nimages, <a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> image_mean[], bool flg_debug)</td></tr>
<tr class="separator:ac8870d0076bae3ab200cb181cd597bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2128bc90680284eafea2322c28b5755"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#aa2128bc90680284eafea2322c28b5755">pw_save_and_azth_avg</a> (unsigned int *<a class="el" href="radial__storage__lut_8h.html#a01adbe1bf6b6fb88129e3ccba33749e8">ram_radial_lut</a>, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> starting_index, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> npw, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> <a class="el" href="angular__avg_8cpp.html#adc950669dbfb795e5084af275d5b6022">dimr</a>, <a class="el" href="global__define_8h.html#ac3e2e8b775e8c0eca32f242cbbee4b7f">MY_REAL</a> azh_avgs[], <a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> ram_power_spectra[])</td></tr>
<tr class="separator:aa2128bc90680284eafea2322c28b5755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58512c32bf21cb97240bbf887c902c22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#a58512c32bf21cb97240bbf887c902c22">diff_autocorr</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dim_file_list, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dim_fifo, unsigned int *counter_avg, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> ind_sot, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> *file_index, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> *dist_map, std::vector&lt; bool &gt; &amp;flg_valid_image_fifo, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> n_max_avg)</td></tr>
<tr class="separator:a58512c32bf21cb97240bbf887c902c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc5b30dabb19ceef0615376f18a7b303"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#afc5b30dabb19ceef0615376f18a7b303">calc_power_spectra</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dimy, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dimx)</td></tr>
<tr class="separator:afc5b30dabb19ceef0615376f18a7b303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6ca922b1b694a7ece939b0d72c1e05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#a6f6ca922b1b694a7ece939b0d72c1e05">plot_dinamics</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dimx)</td></tr>
<tr class="separator:a6f6ca922b1b694a7ece939b0d72c1e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a77b278f3a8205e9fcbb23df7e4db0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#a64a77b278f3a8205e9fcbb23df7e4db0">calc_power_spectra_fifo</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> nimages, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> &amp;useri_dist_max, <a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *image_mean, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> &amp;<a class="el" href="angular__avg_8cpp.html#adc950669dbfb795e5084af275d5b6022">dimr</a>, unsigned int *power_spectra_avg_counter, <a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *ram_power_spectra, <a class="el" href="global__define_8h.html#ac3e2e8b775e8c0eca32f242cbbee4b7f">MY_REAL</a> *azh_avgs)</td></tr>
<tr class="separator:a64a77b278f3a8205e9fcbb23df7e4db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac919affbf2eee1504b782d6ad40347c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#ac919affbf2eee1504b782d6ad40347c0">calc_power_spectra_autocorr</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dimy, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dimx, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> nimages, <a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *image_mean, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> &amp;<a class="el" href="angular__avg_8cpp.html#adc950669dbfb795e5084af275d5b6022">dimr</a>, unsigned int *power_spectra_avg_counter, <a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *ram_power_spectra, <a class="el" href="global__define_8h.html#ac3e2e8b775e8c0eca32f242cbbee4b7f">MY_REAL</a> *azh_avgs)</td></tr>
<tr class="separator:ac919affbf2eee1504b782d6ad40347c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62a60745038ea2a7ab28ede47b9f7ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#ae62a60745038ea2a7ab28ede47b9f7ee">load_memory_for_time_correlation</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dimx, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dimy, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> nimages, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> start_spacial_freq_in_lut, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dimfreq, unsigned short *m_im, <a class="el" href="global__define_8h.html#ad55fd9952588fe62ec9f09979ea33523">FFTW_REAL</a> *image_mean)</td></tr>
<tr class="separator:ae62a60745038ea2a7ab28ede47b9f7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0647855550082b220717d53591400b84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#a0647855550082b220717d53591400b84">save_partial_timeseries</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> nimages, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> igroup, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> dimgroup, <a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *ram_power_spectra)</td></tr>
<tr class="separator:a0647855550082b220717d53591400b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3344701681f3b58ff328d75ba04043"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#a4f3344701681f3b58ff328d75ba04043">read_memory_after_time_correlation</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> nimages, <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> <a class="el" href="angular__avg_8cpp.html#adc950669dbfb795e5084af275d5b6022">dimr</a>, <a class="el" href="global__define_8h.html#ac3e2e8b775e8c0eca32f242cbbee4b7f">MY_REAL</a> *azh_avgs, <a class="el" href="global__define_8h.html#ad55fd9952588fe62ec9f09979ea33523">FFTW_REAL</a> *ram_power_spectra)</td></tr>
<tr class="separator:a4f3344701681f3b58ff328d75ba04043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a531bff3a4832c104bb8deacbe0645a82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#a531bff3a4832c104bb8deacbe0645a82">time_series_analysis_cpu</a> ()</td></tr>
<tr class="separator:a531bff3a4832c104bb8deacbe0645a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4974207784eb6e0d99cc630a2ad8f67e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__spectra_8cpp.html#a4974207784eb6e0d99cc630a2ad8f67e">power_spectra_from_dev</a> (<a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> n_pw, unsigned int *<a class="el" href="radial__storage__lut_8h.html#a01adbe1bf6b6fb88129e3ccba33749e8">ram_radial_lut</a>, <a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> ram_power_spectra[], <a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> start_dist_display, bool flg_debug)</td></tr>
<tr class="separator:a4974207784eb6e0d99cc630a2ad8f67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac8870d0076bae3ab200cb181cd597bd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8870d0076bae3ab200cb181cd597bd3">&#9670;&nbsp;</a></span>calc_diagonal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calc_diagonal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>starting_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>power_spectra_avg_counter</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfifo__min.html">fifo_min</a> &amp;&#160;</td>
          <td class="paramname"><em>fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>nimages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a>&#160;</td>
          <td class="paramname"><em>image_mean</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flg_debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function calculates a group of average of power spectra. See bool <a class="el" href="power__spectra_8cpp.html#afc5b30dabb19ceef0615376f18a7b303">calc_power_spectra(INDEX dimy, INDEX dimx)</a> for further details </p>

</div>
</div>
<a id="afc5b30dabb19ceef0615376f18a7b303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc5b30dabb19ceef0615376f18a7b303">&#9670;&nbsp;</a></span>calc_power_spectra()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool calc_power_spectra </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function manage all the calculations of the program in FIFO mode. In the first part memory areas are prepared for the calculus. In the second part the calculus is performed. <br  />
The calculus of the differences is made on the video card in the Fourier space. Since the output should be all the power spectra averaged in respect to any possible time delay, only the averaged power spectra needs to saved and not all the power spectra coming from all the possible couple of differences. For this reason only the memory of the averaged power spectra is allocated. The optimal memory occupancy of the video card is found to be when we can perform as many differences as many power spectra we can store. This means that the total number of storable FFTs should be equal to the total number of power spectra that are present at the same time on the video card. <br  />
For this reason the memory IO with the video card is organized as follows. First we select a group of power spectra to be calculated. These power spectra are intended displaced in time-delay one aside to the other. Then we organize a FIFO over the memory area of the FFTs. At each cycle of the algorithm we load two images, one into the FIFO and the other in the temporary memory area where all the FFTs are calculated. In the FIFO are stored in sequence a group of images separated in time by the frame rate of the camera. The picture outside the FIFO is selected in order to satisfy the appropriate temporal delay condition for all the images in the FIFO. In fact since the power spectra are of the same number as the images stored and both of them contains elements contiguous in time separation; it is possible to select the appropriate frame that make all the possible differences storable in into the memory area of the power spectra with a refreshing calculus of the average value </p>

</div>
</div>
<a id="ac919affbf2eee1504b782d6ad40347c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac919affbf2eee1504b782d6ad40347c0">&#9670;&nbsp;</a></span>calc_power_spectra_autocorr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calc_power_spectra_autocorr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>nimages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *&#160;</td>
          <td class="paramname"><em>image_mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> &amp;&#160;</td>
          <td class="paramname"><em>dimr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>power_spectra_avg_counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *&#160;</td>
          <td class="paramname"><em>ram_power_spectra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac3e2e8b775e8c0eca32f242cbbee4b7f">MY_REAL</a> *&#160;</td>
          <td class="paramname"><em>azh_avgs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculating the power spectra via Fourier tranform of power series </p>

</div>
</div>
<a id="a64a77b278f3a8205e9fcbb23df7e4db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a77b278f3a8205e9fcbb23df7e4db0">&#9670;&nbsp;</a></span>calc_power_spectra_fifo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calc_power_spectra_fifo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>nimages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> &amp;&#160;</td>
          <td class="paramname"><em>useri_dist_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *&#160;</td>
          <td class="paramname"><em>image_mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> &amp;&#160;</td>
          <td class="paramname"><em>dimr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>power_spectra_avg_counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *&#160;</td>
          <td class="paramname"><em>ram_power_spectra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac3e2e8b775e8c0eca32f242cbbee4b7f">MY_REAL</a> *&#160;</td>
          <td class="paramname"><em>azh_avgs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculating power spectra via time differences and FIFO memory </p>

</div>
</div>
<a id="a58512c32bf21cb97240bbf887c902c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58512c32bf21cb97240bbf887c902c22">&#9670;&nbsp;</a></span>diff_autocorr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int diff_autocorr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dim_file_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dim_fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>counter_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>ind_sot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> *&#160;</td>
          <td class="paramname"><em>file_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a> *&#160;</td>
          <td class="paramname"><em>dist_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>flg_valid_image_fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>n_max_avg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function updates the power spectra with differences of ffts. It is used in the FIFO algorithm. </p>

</div>
</div>
<a id="ae62a60745038ea2a7ab28ede47b9f7ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae62a60745038ea2a7ab28ede47b9f7ee">&#9670;&nbsp;</a></span>load_memory_for_time_correlation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void load_memory_for_time_correlation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>nimages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>start_spacial_freq_in_lut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimfreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>m_im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ad55fd9952588fe62ec9f09979ea33523">FFTW_REAL</a> *&#160;</td>
          <td class="paramname"><em>image_mean</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function loads all the pictures to fill the memory area with the time series. The time series are the series of fft pixel of each image sorted by increasing time. </p>

</div>
</div>
<a id="a6f6ca922b1b694a7ece939b0d72c1e05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f6ca922b1b694a7ece939b0d72c1e05">&#9670;&nbsp;</a></span>plot_dinamics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plot_dinamics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4974207784eb6e0d99cc630a2ad8f67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4974207784eb6e0d99cc630a2ad8f67e">&#9670;&nbsp;</a></span>power_spectra_from_dev()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void power_spectra_from_dev </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>n_pw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>ram_radial_lut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a>&#160;</td>
          <td class="paramname"><em>ram_power_spectra</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>start_dist_display</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flg_debug</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>copy n_pw power spectra from video card to ram_power_spectra. Note that power_spectra on the video card are already stored one in queue to the other </p>

</div>
</div>
<a id="aa2128bc90680284eafea2322c28b5755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2128bc90680284eafea2322c28b5755">&#9670;&nbsp;</a></span>pw_save_and_azth_avg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pw_save_and_azth_avg </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>ram_radial_lut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>starting_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>npw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac3e2e8b775e8c0eca32f242cbbee4b7f">MY_REAL</a>&#160;</td>
          <td class="paramname"><em>azh_avgs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a>&#160;</td>
          <td class="paramname"><em>ram_power_spectra</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function unload th averaged power spectra from the video card and start the parallel evaluation of the azimuthal average with the CPU. </p>

</div>
</div>
<a id="a4f3344701681f3b58ff328d75ba04043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3344701681f3b58ff328d75ba04043">&#9670;&nbsp;</a></span>read_memory_after_time_correlation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_memory_after_time_correlation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>nimages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac3e2e8b775e8c0eca32f242cbbee4b7f">MY_REAL</a> *&#160;</td>
          <td class="paramname"><em>azh_avgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ad55fd9952588fe62ec9f09979ea33523">FFTW_REAL</a> *&#160;</td>
          <td class="paramname"><em>ram_power_spectra</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads the final result of the calculation to reconverted the elaborated time series into images </p>

</div>
</div>
<a id="a0647855550082b220717d53591400b84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0647855550082b220717d53591400b84">&#9670;&nbsp;</a></span>save_partial_timeseries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_partial_timeseries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>nimages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>igroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#ac6885dbfb371c33e523c7fb046118b36">INDEX</a>&#160;</td>
          <td class="paramname"><em>dimgroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global__define_8h.html#aa43dd964c8e638a472f0d20011a2b7dd">STORE_REAL</a> *&#160;</td>
          <td class="paramname"><em>ram_power_spectra</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function saves partial results of the time series analysis on disk to be merged in the final stage of the program. The temporary files that are written are the output files, which are subsequently overwritten after the merge. </p>

</div>
</div>
<a id="a531bff3a4832c104bb8deacbe0645a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a531bff3a4832c104bb8deacbe0645a82">&#9670;&nbsp;</a></span>time_series_analysis_cpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void time_series_analysis_cpu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function executes the time series analysis on the wavevectors. CPU version. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
