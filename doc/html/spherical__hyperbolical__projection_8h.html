<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>diffmicro: diffmicro/cpp-routine/spherical_hyperbolical_projection.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">diffmicro
   &#160;<span id="projectnumber">3.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_08804b2bd172a596cc18ca8f1d86432a.html">diffmicro</a></li><li class="navelem"><a class="el" href="dir_d761818eecb350171639ec2a070502f1.html">cpp-routine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">spherical_hyperbolical_projection.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;cmath&gt;</code><br />
</div>
<p><a href="spherical__hyperbolical__projection_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4a0dc52ffc61db6d6b1180bdc93c77ca"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spherical__hyperbolical__projection_8h.html#a4a0dc52ffc61db6d6b1180bdc93c77ca">spheric_hyperbolic_project_enum</a> { <a class="el" href="spherical__hyperbolical__projection_8h.html#a4a0dc52ffc61db6d6b1180bdc93c77caad90a5f8e2e6403bff24c3cc86c81da25">SPHERICAL_PROJECTION</a> = 0
, <a class="el" href="spherical__hyperbolical__projection_8h.html#a4a0dc52ffc61db6d6b1180bdc93c77caabbddbc8650859003d66d4b2980aefb79">HYPERBOLICAL_PROJECTION</a> = 1
 }</td></tr>
<tr class="separator:a4a0dc52ffc61db6d6b1180bdc93c77ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a485ab028d8fe3583fb85f3038b1504b3"><td class="memTemplParams" colspan="2">template&lt;typename FLOAT , typename UINT &gt; </td></tr>
<tr class="memitem:a485ab028d8fe3583fb85f3038b1504b3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="spherical__hyperbolical__projection_8h.html#a485ab028d8fe3583fb85f3038b1504b3">spheric_hyperbolic_indices_for_projection</a> (FLOAT r, UINT dimx, UINT dimy, FLOAT scale[], FLOAT *indout, int type=0)</td></tr>
<tr class="separator:a485ab028d8fe3583fb85f3038b1504b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45bdeaa580c12b6697d7241e1cf748e"><td class="memTemplParams" colspan="2">template&lt;typename FLOAT , typename UINT &gt; </td></tr>
<tr class="memitem:ac45bdeaa580c12b6697d7241e1cf748e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="spherical__hyperbolical__projection_8h.html#ac45bdeaa580c12b6697d7241e1cf748e">spheric_hyperbolic_indices_reduction</a> (UINT dimxin, UINT dimyin, FLOAT in[], FLOAT center[], FLOAT scale[], UINT dimxout, UINT dimyout, FLOAT ind[], UINT &amp;dimindok, UINT indok[], UINT &amp;dimindzero, UINT indzero[])</td></tr>
<tr class="separator:ac45bdeaa580c12b6697d7241e1cf748e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fde32b62c065e2878e38fd50739f97"><td class="memTemplParams" colspan="2">template&lt;typename FLOAT , typename UINT &gt; </td></tr>
<tr class="memitem:a67fde32b62c065e2878e38fd50739f97"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="spherical__hyperbolical__projection_8h.html#a67fde32b62c065e2878e38fd50739f97">spheric_hyperbolic_projection_with_indices</a> (FLOAT in[], UINT dimok, UINT indok[], UINT dimzero, UINT indzero[], FLOAT out[])</td></tr>
<tr class="separator:a67fde32b62c065e2878e38fd50739f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f1aa1f4cd883a6be2498aec3b83f84"><td class="memTemplParams" colspan="2">template&lt;typename FLOAT , typename UINT &gt; </td></tr>
<tr class="memitem:aa5f1aa1f4cd883a6be2498aec3b83f84"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="spherical__hyperbolical__projection_8h.html#aa5f1aa1f4cd883a6be2498aec3b83f84">spheric_hyperbolic_projection_easy</a> (FLOAT r, UINT dimxin, UINT dimyin, FLOAT in[], FLOAT center[], FLOAT scale[], UINT dimxout, UINT dimyout, FLOAT out[], int type=0)</td></tr>
<tr class="separator:aa5f1aa1f4cd883a6be2498aec3b83f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a4a0dc52ffc61db6d6b1180bdc93c77ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a0dc52ffc61db6d6b1180bdc93c77ca">&#9670;&nbsp;</a></span>spheric_hyperbolic_project_enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="spherical__hyperbolical__projection_8h.html#a4a0dc52ffc61db6d6b1180bdc93c77ca">spheric_hyperbolic_project_enum</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4a0dc52ffc61db6d6b1180bdc93c77caad90a5f8e2e6403bff24c3cc86c81da25"></a>SPHERICAL_PROJECTION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4a0dc52ffc61db6d6b1180bdc93c77caabbddbc8650859003d66d4b2980aefb79"></a>HYPERBOLICAL_PROJECTION&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a485ab028d8fe3583fb85f3038b1504b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485ab028d8fe3583fb85f3038b1504b3">&#9670;&nbsp;</a></span>spheric_hyperbolic_indices_for_projection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename FLOAT , typename UINT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void spheric_hyperbolic_indices_for_projection </td>
          <td>(</td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>scale</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT *&#160;</td>
          <td class="paramname"><em>indout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the mapped indices coordinates for spherical or hyperbolical projection of images. It is intended to allow the reconstruction of images deformed by fish-eye lenses. The output indices are thought to be one where the value of the matrix pixel has to be read. The decision how to behave with the output indices (if interpolating or not) is deferred outside this function The indices are stored this way : x0,y0,x1,y1,...</p>
<ul>
<li>r radius in the third dimension out of the picture of the sphere</li>
<li>dimx, dimy dimensions of the indout matrix</li>
<li>center[] (centerx, centery) bias position of the center of the sphere in image plane</li>
<li>scale[] (scalex, scaley) pixel lateral dimension</li>
<li>indout output</li>
<li>type (0 == spherical), (1== hyperbolical) </li>
</ul>

</div>
</div>
<a id="ac45bdeaa580c12b6697d7241e1cf748e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45bdeaa580c12b6697d7241e1cf748e">&#9670;&nbsp;</a></span>spheric_hyperbolic_indices_reduction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename FLOAT , typename UINT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void spheric_hyperbolic_indices_reduction </td>
          <td>(</td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimxin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimyin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>in</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>center</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>scale</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimxout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimyout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>ind</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT &amp;&#160;</td>
          <td class="paramname"><em>dimindok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>indok</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT &amp;&#160;</td>
          <td class="paramname"><em>dimindzero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>indzero</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function take into consideration the copy job and reduces all the redirection of the matrices in terms of two indices array:</p>
<p>indok is the array of pixel where an effective copy is taking place indzero is the array of pixel where no corresponding pixel exist and might be assigned value zero</p>
<p>indok and indzero indices are the already prepared global indices to jump directly into the matrices. No row-column calculation is further needed. indok memory layout -&gt; (indok_in_0, indok_out_0, indok_in_1, indok_out_1,...) indzero memory layout -&gt; (indzero_0, indzero_1, indero_2...)</p>
<p>center[] (centerx, centery) is the center of the sphere on the input matrix in pixel scale </p>

</div>
</div>
<a id="aa5f1aa1f4cd883a6be2498aec3b83f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f1aa1f4cd883a6be2498aec3b83f84">&#9670;&nbsp;</a></span>spheric_hyperbolic_projection_easy()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename FLOAT , typename UINT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void spheric_hyperbolic_projection_easy </td>
          <td>(</td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimxin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimyin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>in</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>center</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>scale</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimxout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimyout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>out</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Example function to show the usage of the functions contained in this file To speed up execution the indices may be saved </p>

</div>
</div>
<a id="a67fde32b62c065e2878e38fd50739f97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fde32b62c065e2878e38fd50739f97">&#9670;&nbsp;</a></span>spheric_hyperbolic_projection_with_indices()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename FLOAT , typename UINT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void spheric_hyperbolic_projection_with_indices </td>
          <td>(</td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>in</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>indok</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>dimzero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>indzero</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&#160;</td>
          <td class="paramname"><em>out</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The easy part of the projection :). Copy what has to be copied and put to zero what would be non-defined </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
